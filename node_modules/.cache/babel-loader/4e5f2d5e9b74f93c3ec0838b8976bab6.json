{"ast":null,"code":"import _asyncToGenerator from\"/Users/garra/Documents/Universidad/Cuarto/IWEB/React1/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/garra/Documents/Universidad/Cuarto/IWEB/React1/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/garra/Documents/Universidad/Cuarto/IWEB/React1/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState,useEffect}from'react';import Header from'./Header.jsx';import Board from'./Board.jsx';import Reset from'./Reset.jsx';import'./mejoraCSS/Tictactoe.css';import{LangContext}from\"./App\";import{useContext}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PLAYERX=\"Player 1 - Xs\";var PLAYER0=\"Player 2 - 0s\";export default function Tictactoe(props){var lang=useContext(LangContext);var _useState=useState(PLAYERX),_useState2=_slicedToArray(_useState,2),turn=_useState2[0],setTurn=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),moves=_useState4[0],setMoves=_useState4[1];var _useState5=useState([['-','-','-'],['-','-','-'],['-','-','-']]),_useState6=_slicedToArray(_useState5,2),values=_useState6[0],setValues=_useState6[1];useEffect(function(){// Update the document title using the browser API\n//ndocument.title = lang.dictionary[\"TurnPlayer\"] + \"${turn}\";\n// document.title = `Turn of ${turn}`;\n});useEffect(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,myjson;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"http://myjson.dit.upm.es/api/bins/ccr5\");case 2:res=_context.sent;_context.next=5;return res.json();case 5:myjson=_context.sent;console.log(myjson);setTurn(myjson.turn);setMoves(myjson.moves);setValues(myjson.values);case 10:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();},[]);function appClick(rowNumber,columnNumber){var valuesCopy=JSON.parse(JSON.stringify(values));var newMovement=turn===PLAYERX?'X':'0';valuesCopy[rowNumber][columnNumber]=newMovement;setTurn(turn===PLAYERX?PLAYER0:PLAYERX);setValues(valuesCopy);setMoves(moves+1);}function resetClick(){setTurn(PLAYERX);setMoves(0);setValues([['-','-','-'],['-','-','-'],['-','-','-']]);}var text=lang.dictionary[\"TurnPlayer\"]+\" \"+turn;return/*#__PURE__*/_jsxs(\"div\",{className:\"tic\",children:[/*#__PURE__*/_jsx(\"h1\",{children:text}),/*#__PURE__*/_jsx(Board,{values:values,appClick:appClick}),/*#__PURE__*/_jsxs(\"h3\",{children:[lang.dictionary[\"Numbermoves\"],\": \",moves]}),/*#__PURE__*/_jsx(Reset,{resetClick:resetClick})]});}","map":{"version":3,"sources":["/Users/garra/Documents/Universidad/Cuarto/IWEB/React1/src/components/Tictactoe.js"],"names":["React","useState","useEffect","Header","Board","Reset","LangContext","useContext","PLAYERX","PLAYER0","Tictactoe","props","lang","turn","setTurn","moves","setMoves","values","setValues","fetchData","fetch","res","json","myjson","console","log","appClick","rowNumber","columnNumber","valuesCopy","JSON","parse","stringify","newMovement","resetClick","text","dictionary"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Header from './Header.jsx';\nimport Board from './Board.jsx';\nimport Reset from './Reset.jsx';\nimport './mejoraCSS/Tictactoe.css';\nimport { LangContext } from \"./App\";\nimport { useContext } from \"react\";\n\n\nconst PLAYERX = \"Player 1 - Xs\";\nconst PLAYER0 = \"Player 2 - 0s\";\n\nexport default function Tictactoe(props) {\n  const lang = useContext(LangContext);\n  const [turn, setTurn] = useState(PLAYERX);\n  const [moves, setMoves] = useState(0);\n  const [values, setValues] = useState([\n    ['-', '-', '-'],\n    ['-', '-', '-'],\n    ['-', '-', '-']\n  ]);\n\n  useEffect(() => {\n    // Update the document title using the browser API\n    //ndocument.title = lang.dictionary[\"TurnPlayer\"] + \"${turn}\";\n    // document.title = `Turn of ${turn}`;\n  });\n\n  useEffect(() => {\n    async function fetchData() {\n      const res = await fetch(\"http://myjson.dit.upm.es/api/bins/ccr5\");\n      const myjson = await res.json();\n      console.log(myjson);\n      setTurn(myjson.turn);\n      setMoves(myjson.moves);\n      setValues(myjson.values);\n    }\n\n    fetchData();\n  }, []);\n\n  function appClick(rowNumber, columnNumber) {\n    let valuesCopy = JSON.parse(JSON.stringify(values));\n    let newMovement = turn === PLAYERX ? 'X' : '0';\n    valuesCopy[rowNumber][columnNumber] = newMovement;\n    setTurn(turn === PLAYERX ? PLAYER0 : PLAYERX);\n    setValues(valuesCopy);\n    setMoves(moves + 1);\n  }\n\n  function resetClick() {\n    setTurn(PLAYERX);\n    setMoves(0);\n    setValues([\n      ['-', '-', '-'],\n      ['-', '-', '-'],\n      ['-', '-', '-']\n    ]);\n  }\n\n\n  let text = lang.dictionary[\"TurnPlayer\"] + \" \" + turn;\n\n  return (\n    <div className='tic'>\n      <h1>{text}</h1>\n      <Board values={values} appClick={appClick} />\n      <h3>{lang.dictionary[\"Numbermoves\"]}: {moves}</h3>\n      <Reset resetClick={resetClick}></Reset>\n    </div>\n  );\n\n\n}"]},"metadata":{},"sourceType":"module"}