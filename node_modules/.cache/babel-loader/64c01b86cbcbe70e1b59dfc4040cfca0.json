{"ast":null,"code":"import _slicedToArray from\"/Users/garra/Documents/Universidad/Cuarto/IWEB/React1/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useRef,useEffect,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Countdown(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),pause=_useState2[0],setPause=_useState2[1];// const [count, setCount] = useState(60);\nvar intervalRef=useRef();//Bajamos el contador en una unidad\nvar decreaseCount=function decreaseCount(){props.setCount(function(prev){return prev-1;});};var handleClick=function handleClick(){if(!pause){clearInterval(intervalRef.current);}else{intervalRef.current=setInterval(decreaseCount,1000);}//cambia el estado del pause\nsetPause(function(prev){return!prev;});};//Decrementamos con intervalos de 1 segundo, se ejecuta con cada cambio del estado (en este caso, cuando se decrementa)\n//Ejemplo adaptado de la diapositiva 86 de la teoría\nuseEffect(function(){setPause(false);intervalRef.current=setInterval(decreaseCount,1000);return function(){clearInterval(intervalRef.current);};},[]);if(props.count==0||props.count<0){props.end(props.count);}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:props.count}),/*#__PURE__*/_jsx(\"button\",{onClick:handleClick,children:pause?\">\":\"||\"})]});}","map":{"version":3,"sources":["/Users/garra/Documents/Universidad/Cuarto/IWEB/React1/src/components/timer.js"],"names":["React","useRef","useEffect","useState","Countdown","props","pause","setPause","intervalRef","decreaseCount","setCount","prev","handleClick","clearInterval","current","setInterval","count","end"],"mappings":"2IAAA,MAAOA,CAAAA,KAAP,EAAgBC,MAAhB,CAAwBC,SAAxB,CAAmCC,QAAnC,KAAmD,OAAnD,C,wFAEA,cAAe,SAASC,CAAAA,SAAT,CAAmBC,KAAnB,CAA0B,CAErC,cAA0BF,QAAQ,CAAC,KAAD,CAAlC,wCAAOG,KAAP,eAAcC,QAAd,eACA;AAEA,GAAIC,CAAAA,WAAW,CAAGP,MAAM,EAAxB,CAGA;AACA,GAAMQ,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CACxBJ,KAAK,CAACK,QAAN,CAAe,SAACC,IAAD,QAAUA,CAAAA,IAAI,CAAG,CAAjB,EAAf,EACH,CAFD,CAIA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACtB,GAAI,CAACN,KAAL,CAAY,CACRO,aAAa,CAACL,WAAW,CAACM,OAAb,CAAb,CACH,CAFD,IAEO,CACHN,WAAW,CAACM,OAAZ,CAAsBC,WAAW,CAACN,aAAD,CAAgB,IAAhB,CAAjC,CACH,CACD;AACAF,QAAQ,CAAC,SAACI,IAAD,QAAU,CAACA,IAAX,EAAD,CAAR,CACH,CARD,CAUA;AACA;AACAT,SAAS,CAAC,UAAM,CACZK,QAAQ,CAAC,KAAD,CAAR,CACAC,WAAW,CAACM,OAAZ,CAAsBC,WAAW,CAACN,aAAD,CAAgB,IAAhB,CAAjC,CACA,MAAO,WAAM,CACTI,aAAa,CAACL,WAAW,CAACM,OAAb,CAAb,CACH,CAFD,CAGH,CANQ,CAMN,EANM,CAAT,CASA,GAAIT,KAAK,CAACW,KAAN,EAAe,CAAf,EAAoBX,KAAK,CAACW,KAAN,CAAc,CAAtC,CAAyC,CACrCX,KAAK,CAACY,GAAN,CAAUZ,KAAK,CAACW,KAAhB,EACH,CACD,mBACI,oCACI,qBAAMX,KAAK,CAACW,KAAZ,EADJ,cAEI,eAAQ,OAAO,CAAEJ,WAAjB,UAA+BN,KAAK,CAAG,GAAH,CAAS,IAA7C,EAFJ,GADJ,CAaH","sourcesContent":["import React, { useRef, useEffect, useState } from \"react\";\n\nexport default function Countdown(props) {\n\n    const [pause, setPause] = useState(false);\n    // const [count, setCount] = useState(60);\n\n    let intervalRef = useRef();\n\n\n    //Bajamos el contador en una unidad\n    const decreaseCount = () => {\n        props.setCount((prev) => prev - 1);\n    };\n\n    const handleClick = () => {\n        if (!pause) {\n            clearInterval(intervalRef.current);\n        } else {\n            intervalRef.current = setInterval(decreaseCount, 1000);\n        }\n        //cambia el estado del pause\n        setPause((prev) => !prev);\n    };\n\n    //Decrementamos con intervalos de 1 segundo, se ejecuta con cada cambio del estado (en este caso, cuando se decrementa)\n    //Ejemplo adaptado de la diapositiva 86 de la teoría\n    useEffect(() => {\n        setPause(false);\n        intervalRef.current = setInterval(decreaseCount, 1000);\n        return () => {\n            clearInterval(intervalRef.current);\n        }\n    }, []);\n\n\n    if (props.count == 0 || props.count < 0) {\n        props.end(props.count);\n    }\n    return (\n        <div>\n            <div>{props.count}</div>\n            <button onClick={handleClick}>{pause ? \">\" : \"||\"}</button>\n        </div>\n    );\n\n\n\n\n\n\n\n}"]},"metadata":{},"sourceType":"module"}