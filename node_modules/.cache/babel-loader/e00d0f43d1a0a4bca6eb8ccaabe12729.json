{"ast":null,"code":"var _jsxFileName = \"/Users/garra/Documents/Universidad/Cuarto/IWEB/React1/src/components/Quiz.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport Game from './Game';\nimport Timer from './timer';\nimport { quizzes } from \"./mock-data\";\nimport { LangContext } from \"./App\";\nimport { useContext } from \"react\";\nimport photo from './image2.png';\nimport './mejoraCSS/Quiz.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Quiz(props) {\n  _s();\n\n  const timer = 60;\n  const [score, setScore] = useState(0);\n  const [currentQuiz, setCurrentQuiz] = useState(0);\n  const [quizzess, setQuizzess] = useState(quizzes);\n  const [finished, setFinished] = useState(0);\n  const [answer, setAnswer] = useState(\"\");\n  const [ended, setEnded] = useState(0);\n  const [count, setCount] = useState(timer);\n  const [flag, setFlag] = useState(true); //mostrar lo que se va escribiendo\n\n  function escribiendo(text) {\n    setAnswer(text);\n  } //termina el timer\n\n\n  function end(num) {\n    if (num == 0 || num < 0) {\n      setEnded(1);\n    }\n  } //Nos bajamos los quizzes\n\n\n  useEffect(() => {\n    fetch(\"https://core.dit.upm.es/api/quizzes/random10wa?token=769e57d6fcb84b970fcc\").then(res => res.json()).then(json => {\n      setQuizzess(json);\n    });\n    setTimeout(() => {\n      setFlag(false);\n    }, 500);\n  }, []);\n\n  function correct() {\n    setScore(score + 1);\n    setFinished(1);\n    setAnswer(\"\");\n  } //comprobamos la respuesta\n\n\n  function comprobar() {\n    if (finished == 0) {\n      if (answer.trim().toLocaleLowerCase() == quizzess[currentQuiz].answer.trim().toLocaleLowerCase()) {\n        correct();\n      }\n    }\n  } //avanzamos de pregunta\n\n\n  function Siguiente() {\n    if (currentQuiz != quizzess.length - 1) {\n      setCurrentQuiz(currentQuiz + 1);\n      setFinished(0);\n      setAnswer(\"\");\n    }\n  } //retrocedemos \n\n\n  function Anterior() {\n    setCurrentQuiz(currentQuiz - 1);\n    setFinished(0);\n    setAnswer(\"\");\n  }\n\n  function Reset() {\n    setScore(0);\n    setAnswer(\"\");\n    setCurrentQuiz(0);\n    setFinished(0);\n    setEnded(0);\n    setCount(timer);\n  } //MEJORA OPCIONAL TECLA ENTER\n\n\n  function teclaEnter() {\n    if (finished == 0) {\n      if (answer.trim().toLocaleLowerCase() == quizzess[currentQuiz].answer.trim().toLocaleLowerCase()) {\n        correct();\n        Siguiente();\n      }\n    }\n  }\n\n  if (finished == 1 & currentQuiz == quizzess.length - 1 || ended == 1) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [score, /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"FIN\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(LangContext.Consumer, {\n    children: context => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Pagina de juegos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 17\n        }, this), flag ? /*#__PURE__*/_jsxDEV(\"img\", {\n          src: photo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"general\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"Score\",\n            children: [context.dictionary[\"Score\"], score]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 21\n          }, this), answer, /*#__PURE__*/_jsxDEV(\"nav\", {\n            className: \"buttons\",\n            roles: \"tablist\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              disabled: finished == 1 & currentQuiz == quizzess.length - 1,\n              onClick: () => setCurrentQuiz(0),\n              children: \"1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              disabled: finished == 1 & currentQuiz == quizzess.length - 1,\n              onClick: () => setCurrentQuiz(1),\n              children: \"2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              disabled: finished == 1 & currentQuiz == quizzess.length - 1,\n              onClick: () => setCurrentQuiz(2),\n              children: \"3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              disabled: finished == 1 & currentQuiz == quizzess.length - 1,\n              onClick: () => setCurrentQuiz(3),\n              children: \"4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              disabled: finished == 1 & currentQuiz == quizzess.length - 1,\n              onClick: () => setCurrentQuiz(4),\n              children: \"5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              disabled: finished == 1 & currentQuiz == quizzess.length - 1,\n              onClick: () => setCurrentQuiz(5),\n              children: \"6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              disabled: finished == 1 & currentQuiz == quizzess.length - 1,\n              onClick: () => setCurrentQuiz(6),\n              children: \"7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              disabled: finished == 1 & currentQuiz == quizzess.length - 1,\n              onClick: () => setCurrentQuiz(7),\n              children: \"8\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              disabled: finished == 1 & currentQuiz == quizzess.length - 1,\n              onClick: () => setCurrentQuiz(8),\n              children: \"9\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              disabled: finished == 1 & currentQuiz == quizzess.length - 1,\n              onClick: () => setCurrentQuiz(9),\n              children: \"10\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"timer\",\n            children: /*#__PURE__*/_jsxDEV(Timer, {\n              end: end,\n              count: count,\n              setCount: setCount\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Game, {\n            quiz: quizzess[currentQuiz],\n            teclaEnter: teclaEnter,\n            escribiendo: escribiendo,\n            finished: finished,\n            answer: answer,\n            comprobar: comprobar,\n            Next: Siguiente\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => comprobar(),\n            children: context.dictionary[\"Submit\"]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            disabled: currentQuiz == 0,\n            onClick: () => Anterior(),\n            children: context.dictionary[\"Previous\"]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            disabled: currentQuiz == quizzess.length - 1,\n            onClick: () => Siguiente(),\n            children: context.dictionary[\"Next\"]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => Reset(),\n            children: context.dictionary[\"Reset\"]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 51\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 20\n      }, this);\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Quiz, \"PiEc6Uuqc/Vi8/u61KicZlPnJnY=\");\n\n_c = Quiz;\n\nvar _c;\n\n$RefreshReg$(_c, \"Quiz\");","map":{"version":3,"sources":["/Users/garra/Documents/Universidad/Cuarto/IWEB/React1/src/components/Quiz.js"],"names":["React","useState","useEffect","Game","Timer","quizzes","LangContext","useContext","photo","Quiz","props","timer","score","setScore","currentQuiz","setCurrentQuiz","quizzess","setQuizzess","finished","setFinished","answer","setAnswer","ended","setEnded","count","setCount","flag","setFlag","escribiendo","text","end","num","fetch","then","res","json","setTimeout","correct","comprobar","trim","toLocaleLowerCase","Siguiente","length","Anterior","Reset","teclaEnter","context","dictionary"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Game from './Game';\nimport Timer from './timer';\nimport { quizzes } from \"./mock-data\";\nimport { LangContext } from \"./App\";\nimport { useContext } from \"react\";\nimport photo from './image2.png';\nimport './mejoraCSS/Quiz.css';\n\nexport default function Quiz(props) {\n\n    const timer = 60\n\n\n    const [score, setScore] = useState(0);\n    const [currentQuiz, setCurrentQuiz] = useState(0);\n    const [quizzess, setQuizzess] = useState(quizzes);\n    const [finished, setFinished] = useState(0);\n    const [answer, setAnswer] = useState(\"\");\n    const [ended, setEnded] = useState(0);\n    const [count, setCount] = useState(timer);\n    const [flag, setFlag] = useState(true);\n\n    //mostrar lo que se va escribiendo\n    function escribiendo(text) {\n        setAnswer(text);\n    }\n    //termina el timer\n    function end(num) {\n        if (num == 0 || num < 0) {\n            setEnded(1);\n        }\n    }\n    //Nos bajamos los quizzes\n    useEffect(() => {\n        fetch(\"https://core.dit.upm.es/api/quizzes/random10wa?token=769e57d6fcb84b970fcc\")\n            .then(res => res.json())\n            .then(json => { setQuizzess(json) })\n        setTimeout(() => {\n            setFlag(false);\n        }, 500)\n    }, []);\n\n    function correct() {\n        setScore(score + 1);\n        setFinished(1);\n        setAnswer(\"\");\n    }\n    //comprobamos la respuesta\n    function comprobar() {\n        if (finished == 0) {\n            if (answer.trim().toLocaleLowerCase() == quizzess[currentQuiz].answer.trim().toLocaleLowerCase()) {\n                correct();\n            }\n        }\n    }\n    //avanzamos de pregunta\n    function Siguiente() {\n        if (currentQuiz != quizzess.length - 1) {\n            setCurrentQuiz(currentQuiz + 1);\n            setFinished(0);\n            setAnswer(\"\");\n        }\n    }\n    //retrocedemos \n    function Anterior() {\n        setCurrentQuiz(currentQuiz - 1);\n        setFinished(0);\n        setAnswer(\"\");\n    }\n    function Reset() {\n        setScore(0);\n        setAnswer(\"\");\n        setCurrentQuiz(0);\n        setFinished(0);\n        setEnded(0);\n        setCount(timer)\n    }\n\n    //MEJORA OPCIONAL TECLA ENTER\n    function teclaEnter() {\n        if (finished == 0) {\n            if (answer.trim().toLocaleLowerCase() == quizzess[currentQuiz].answer.trim().toLocaleLowerCase()) {\n                correct();\n                Siguiente();\n            }\n        }\n    }\n\n    if ((finished == 1 & currentQuiz == quizzess.length - 1) || (ended == 1)) {\n        return (\n            <div>\n                {score}\n                <h1>FIN</h1>\n            </div>\n        );\n    }\n    return (\n        <LangContext.Consumer>{(context) => {\n            return <div>\n                <h1>Pagina de juegos</h1>\n                {flag ? <img src={photo}></img> : <div className='general'>\n\n                    <div className='Score'>\n                        {context.dictionary[\"Score\"]}\n                        {score}\n                    </div>\n                    {answer}\n                    <nav className='buttons' roles=\"tablist\">\n                        <button disabled={finished == 1 & currentQuiz == quizzess.length - 1} onClick={() => setCurrentQuiz(0)}>1</button>\n                        <button disabled={finished == 1 & currentQuiz == quizzess.length - 1} onClick={() => setCurrentQuiz(1)}>2</button>\n                        <button disabled={finished == 1 & currentQuiz == quizzess.length - 1} onClick={() => setCurrentQuiz(2)}>3</button>\n                        <button disabled={finished == 1 & currentQuiz == quizzess.length - 1} onClick={() => setCurrentQuiz(3)}>4</button>\n                        <button disabled={finished == 1 & currentQuiz == quizzess.length - 1} onClick={() => setCurrentQuiz(4)}>5</button>\n                        <button disabled={finished == 1 & currentQuiz == quizzess.length - 1} onClick={() => setCurrentQuiz(5)}>6</button>\n                        <button disabled={finished == 1 & currentQuiz == quizzess.length - 1} onClick={() => setCurrentQuiz(6)}>7</button>\n                        <button disabled={finished == 1 & currentQuiz == quizzess.length - 1} onClick={() => setCurrentQuiz(7)}>8</button>\n                        <button disabled={finished == 1 & currentQuiz == quizzess.length - 1} onClick={() => setCurrentQuiz(8)}>9</button>\n                        <button disabled={finished == 1 & currentQuiz == quizzess.length - 1} onClick={() => setCurrentQuiz(9)}>10</button>\n                    </nav>\n                    <div className='timer'>\n                        <Timer end={end} count={count} setCount={setCount} />\n                    </div>\n                    <Game quiz={quizzess[currentQuiz]} teclaEnter={teclaEnter} escribiendo={escribiendo} finished={finished} answer={answer} comprobar={comprobar} Next={Siguiente} />\n                    <br />\n                    <button onClick={() => comprobar()}>\n                        {context.dictionary[\"Submit\"]}\n                    </button>\n                    <button disabled={currentQuiz == 0} onClick={() => Anterior()}>\n                        {context.dictionary[\"Previous\"]}\n                    </button>\n                    <button disabled={currentQuiz == quizzess.length - 1} onClick={() => Siguiente()}>\n                        {context.dictionary[\"Next\"]}\n                    </button>\n                    <button onClick={() => Reset()}>{context.dictionary[\"Reset\"]}</button>\n                </div>}\n            </div>\n\n        }\n        }\n\n        </LangContext.Consumer>\n\n    );\n\n\n}"]},"metadata":{},"sourceType":"module"}